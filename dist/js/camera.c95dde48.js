(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["camera"],{"50cf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"camera-modal"},[a("video",{ref:"video",staticClass:"camera-stream"}),a("div",{staticClass:"camera-modal-container"}),a("v-btn",{staticClass:"take-picture-button",attrs:{color:"pink",dark:"",fab:""},on:{click:e.capture}},[a("v-icon",[e._v("camera")])],1)],1)},r=[],n=(a("cadf"),a("551c"),a("097d"),a("c4bc")),o=(a("f288"),{data:function(){return{mediaStream:null}},mounted:function(){var e=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then(function(t){e.mediaStream=t,e.$refs.video.srcObject=t,e.$refs.video.play()}).catch(function(e){return console.error("getUserMedia() error:",e)}):navigator.getUserMedia?navigator.getUserMedia({video:!0},function(e){this.mediaStream=e,this.$refs.video.srcObject=e,this.$refs.video.play()},errBack):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia({video:!0},function(e){this.mediaStream=e,this.$refs.video.srcObject=window.webkitURL.createObjectURL(e),this.$refs.video.play()},errBack):navigator.mozGetUserMedia&&navigator.mozGetUserMedia({video:!0},function(e){this.mediaStream=e,this.$refs.video.srcObject=window.URL.createObjectURL(e),this.$refs.video.play()},errBack)},methods:{capture:function(){var e=this,t=this.mediaStream.getVideoTracks()[0],a=new window.ImageCapture(t);return a.takePhoto().then(function(t){n["a"].storage.ref().child("images/picture-".concat((new Date).getTime())).put(t).then(function(t){t.ref.getDownloadURL().then(function(t){console.log("File available at",t),e.$router.push({name:"post",params:{pictureUrl:t}})})}).catch(function(t){console.log(t),e.$router.go(-1)})})}},destroyed:function(){var e=this.mediaStream.getTracks();e.map(function(e){return e.stop()})}}),c=o,s=(a("b31d"),a("2877")),d=a("6544"),u=a.n(d),f=a("8336"),m=a("132d"),v=Object(s["a"])(c,i,r,!1,null,"ccd1f7be",null);t["default"]=v.exports;u()(v,{VBtn:f["a"],VIcon:m["a"]})},b31d:function(e,t,a){"use strict";var i=a("f761"),r=a.n(i);r.a},f288:function(e,t,a){"use strict";a("cadf"),a("551c"),a("097d");var i=a("c4bc"),r=a("41cb");t["a"]=function(e,t,a){var n=new Date,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];console.log(i["a"].db),i["a"].db.collection("dogs").add({url:e,comment:t,info:"Posted by ".concat(""!=a?a:"Unknown"," on ").concat(o[n.getDay()]),created_at:(new Date).getTime()}).then(r["a"].push({name:"home"}))}},f761:function(e,t,a){}}]);
//# sourceMappingURL=camera.c95dde48.js.map